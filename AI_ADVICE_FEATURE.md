# AI费用建议功能指南

## 功能概述

AI费用建议功能为用户提供智能的费用管理建议，基于旅行计划的具体情况和用户的费用记录生成个性化的专业建议。

## 功能特点

✅ **智能分析**：自动分析旅行计划的预算、时间、目的地等信息
✅ **费用数据整合**：结合已记录的费用数据，提供针对性建议
✅ **实时建议**：根据当前费用状态生成动态建议
✅ **多场景适配**：针对不同预算状态（正常、超支、充足）提供不同建议
✅ **用户友好界面**：直观的对话框设计，支持复制和重新生成

## 使用流程

1. **进入费用管理页面**
   - 在"我的旅行计划"页面点击"费用管理"按钮
   - 进入特定旅行计划的费用管理界面

2. **点击AI建议按钮**
   - 在费用记录区域顶部找到"AI建议"按钮（绿色按钮）
   - 点击按钮打开AI建议对话框

3. **等待AI分析**
   - 系统显示加载状态，AI正在分析数据
   - 分析内容包括：
     - 旅行计划基本信息（目的地、时间、预算）
     - 当前费用统计数据（总支出、剩余预算）
     - 费用分类统计
     - 最近消费记录

4. **查看AI建议**
   - 系统生成并显示个性化建议，内容包括：
     - 预算分配分析
     - 费用结构评估
     - 优化建议
     - 后续消费指导

5. **操作建议**
   - **重新生成**：点击"重新生成"获取新的建议
   - **复制建议**：点击"复制建议"将建议内容复制到剪贴板
   - **关闭**：查看完成后关闭对话框

## AI建议内容

AI建议主要包含以下几个方面：

### 1. 预算分析
- 当前预算使用情况评估
- 剩余预算分配建议
- 超支预警和建议

### 2. 费用结构分析
- 各类费用占比分析（交通、住宿、餐饮等）
- 费用分布合理性评估
- 潜在的优化空间

### 3. 实用建议
- 每日消费上限建议
- 成本节省策略
- 当地消费指导
- 应急资金建议

### 4. 前瞻性指导
- 剩余旅行天数预算分配
- 根据目的地特色的消费建议
- 风险规避建议

## 技术实现

### 数据收集
AI建议功能自动收集以下数据：
- 旅行计划：标题、目的地、时间、预算、人数
- 费用记录：所有已记录的费用条目
- 统计信息：总支出、平均费用、分类统计
- 预算状态：是否超支、剩余预算比例

### 提示词构造
系统自动构造专业的提示词，包含：
```
旅行计划信息：
- 目的地、时间、预算等基本信息
- 当前费用统计情况
- 费用分类统计
- 最近消费记录

请求AI提供：
- 预算分配合理性分析
- 费用结构平衡评估
- 节省机会识别
- 未来消费指导
- 整体管理策略
```

### 响应处理
- 根据当前预算状态智能选择最合适的建议模板
- 格式化显示建议内容，支持复制操作
- 提供重新生成功能，适应动态变化的费用数据

## 使用场景

### 场景1：预算正常使用
- AI提供优化建议，帮助用户更合理地分配预算
- 推荐体验型消费而非购物消费
- 建议当地特色体验

### 场景2：预算超支
- 提供紧急控制措施
- 推荐免费或低成本活动
- 指导后续消费优先级

### 场景3：预算充足
- 建议升级体验
- 推荐特色消费项目
- 指导预算再分配

## 最佳实践

1. **定期使用**：建议在添加新费用后使用AI建议功能
2. **数据完整性**：确保费用记录完整，AI建议更准确
3. **结合实际**：AI建议作为参考，结合实际情况调整
4. **动态调整**：旅行过程中可多次使用，适应变化

## 技术优势

- **实时性**：基于最新数据生成建议
- **个性化**：根据具体旅行计划定制建议
- **专业性**：提供专业的费用管理指导
- **易用性**：一键操作，直观显示

AI费用建议功能将传统费用管理与人工智能技术相结合，为用户提供更智能、更专业的旅行费用管理体验。